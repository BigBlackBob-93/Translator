# Translator
## Транслятор-Интерпретатор/Теория автоматов
 Компоненты: лексер, парсер, интерпретатор

Лексемы
```
a - переменные
k - константы
if
then
else
while
do 
in - ввод
out - вывод
end
begin
mass
+ 
-
/
* 
= - присваивание
(
)
[
] 
< 
>
< > - пробел
== - оператор равенства
!= 
;
{
}
```
Конструкции:
begin…end, if(…)then{…;else...;}, while(…)do{...;}, in(...), out (...) 

Грамматика
----------------------------
```
  A → beginMS
  M → mass a[k];M | λ
  S → aH = Q;B 
  Q → Q + T | Q - T | T
  T → T * F | T / F | F
  F → (Q) | aH | k | in(aH) 
  H → [Q] | λ
  B → MB | S | P | V | W | λ | end
  P → if (C) then {SBE}B | λ
  E → else SP | λ
  V → while (C) do {SB}B | λ
  C → aH < Q | aH > Q | aH == Q | aH != Q
  W → out(aH);B
```
(ННФГ без дублирования)
```
   A → beginMS  end
   M → mass a[k];M | λ 
   S → aH = Q;B | λ 
   Q → (Q)F’T’ | aHF’T’ | kF’T’ | in(aH)F’T’ 
   T’ → +TT’ | -TT’ | λ
   T → (Q)F’ | aHF’ | kF’ | in(aH)F’
   F’ → *FF’ | \FF’ | λ
   F → (Q) | aH | k | in(aH) 
   H → [Q] | λ
   B → mass a[k];B | aH = Q;B | if (C) then {SB}EB | while (C) do {SB}B | out(aH);B | λ 
   E → else {S} | λ
   C → aHG
   G → < QZ | > QZ | == QZ |  != QZ
   Z→ λ
```
ОПС
-------------------------------
Операции ОПС
```
   I : индексирование
   F : переход при условии false
   T : безусловный переход
   mass : выделение памяти для массива
```

Семантические программы для генерации ОПС:

###### Программа 1.
> 1. В магазин меток записывается k.
> 2. В ОПС записывается пустой элемент – место для будущей метки.
> 3. В ОПС записывается операция jf – переход при условии false.
###### Программа 2. 
> 1. Через верхний элемент магазина меток, как ссылку на ранее заготовленное место для метки, записывается k. 
> 2. В магазин меток записывается k. 
> 3. В ОПС записывается пустой элемент – место для будущей метки.
> 4. В ОПС записывается операция j – безусловный переход.
###### Программа 3.
> 1. Через верхний элемент магазина меток, как ссылку на ранее заготовленное место для метки, записывается k.
###### Программа 4. 
> 1. В магазин меток записывается k.
###### Программа 5. 
> 1. Через верхний элемент магазина меток, как ссылку на ранее заготовленное место для метки, записывается k. 
> 2. В ОПС записывается метка, значение для которой читается из магазина меток.
> 3. В ОПС записывается операция j – безусловный переход.
###### Программа 6. 
> 1.Переключение в режим записи переменных.
###### Программа 7. 
> 1.Переключение в режим записи массивов.
###### Программа 8. 
> 1. Имя, распознанное лексическим анализатором из входной цепочки символов, ищется в таблице массивов. 
> 2.Если имя найдено, то фиксируется ошибка.
> 3. Если имя не найдено и программа находится в режиме записи массивов, то оно добавляется в таблицу массивов и ОПС. 
###### Программа 9. 
> 1. В мапе для массивов, для заданного ранее массива выделяется вектор с данным количеством элементов.
###### Программа 10.  
> 1. Переключение на режим записи переменных.
> 2. Запись в польскую строку переменной.
> 3. Проверяется, есть ли в мапе переменная с данным именем, если нет - записываем, если есть - ничего не пишем.

Таблица переходов
![ТаблицаПереходов](https://user-images.githubusercontent.com/101857203/209003988-d85ff666-858b-4733-b35c-00bde2a9c387.jpg)
